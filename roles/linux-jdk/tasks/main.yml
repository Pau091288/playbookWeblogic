---
# tasks file for linux-jdk
- name: Download jdk linux
  become: true
  get_url: url="https://download.oracle.com/java/19/latest/jdk-19_linux-x64_bin.rpm" dest="/opt/jdk-19_linux-x64_bin.rpm" owner=root group=root

- name: Install with rpm
  become: true
  #yum:
  #  name: /opt/jdk-19_linux-x64_bin.rpm
  #  state: present
  command: rpm -ivh /opt/jdk-19_linux-x64_bin.rpm

#- name: Unarchive tar file
#  shell: 
#    cmd: 'tar -xvf /etc/jdk-19_linux-x64_bin.tar.gz'
#    chdir: '/etc/jdk/'
#    warn: false
#  when: ansible_os_family == "Linux"
  
- name: Download jdk windows
  win_get_url:
    url: https://download.oracle.com/java/19/latest/jdk-19_windows-x64_bin.msi
    dest: C:\weblogic-dependencies
    validate_certs: no
  #when: java_version['failed'] == true
  when: ansible_os_family == "Windows"
